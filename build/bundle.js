var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function r(t,e,n){t.$$.on_destroy.push(a(e,n))}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function f(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){(null!=e||t.value)&&(t.value=e)}let b;function v(t){b=t}const _=[],w=[],x=[],k=[],$=Promise.resolve();let M=!1;function z(t){x.push(t)}let A=!1;const E=new Set;function H(){if(!A){A=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];v(e),T(e.$$)}for(_.length=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];E.has(e)||(E.add(e),e())}x.length=0}while(_.length);for(;k.length;)k.pop()();M=!1,A=!1,E.clear()}}function T(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const I=new Set;function C(t,e){t&&t.i&&(I.delete(t),t.i(e))}const S="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function G(t,n,o){const{fragment:a,on_mount:r,on_destroy:l,after_update:c}=t.$$;a&&a.m(n,o),z(()=>{const n=r.map(e).filter(s);l?l.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(z)}function P(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(_.push(t),M||(M=!0,$.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,s,o,a,r,l,c=[-1]){const h=b;v(e);const d=s.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:c};let f=!1;if(p.ctx=o?o(e,d,(t,n,...i)=>{const s=i.length?i[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=s)&&(p.bound[t]&&p.bound[t](s),f&&D(e,t)),n}):[],p.update(),f=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();s.intro&&C(e.$$.fragment),G(e,s.target,s.anchor),H()}v(h)}class B{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const L=[];function R(e,n=t){let i;const s=[];function a(t){if(o(e,t)&&(e=t,i)){const t=!L.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),L.push(n,e)}if(t){for(let t=0;t<L.length;t+=2)L[t][0](L[t+1]);L.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,r=t){const l=[o,r];return s.push(l),1===s.length&&(i=n(a)||t),o(e),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}function F(e,n,o){const r=!Array.isArray(e),l=r?[e]:e,c=n.length<2;return{subscribe:R(o,e=>{let o=!1;const u=[];let h=0,d=t;const p=()=>{if(h)return;d();const i=n(r?u[0]:u,e);c?e(i):d=s(i)?i:t},f=l.map((t,e)=>a(t,t=>{u[e]=t,h&=~(1<<e),o&&p()},()=>{h|=1<<e}));return o=!0,p(),function(){i(f),d()}}).subscribe}}const N=R("tr"),O=R(window.devicePixelRatio),j=R(0),Y=R({}),q=R(.7*window.innerWidth),U=R(.7*window.innerHeight),V=R(1e3),K=R(1),Z=F(q,t=>t/50),J=F(j,t=>Math.ceil(Math.max(t,1)/5));var Q={start_button:"Başlat",share_button:"Paylaş",restart_button:"Yeniden başlat",are_you_ready:"Başlamaya hazır mısın?",tip:"İpucu",tip_for_phone:"Telefonda oynarken yan çevirmek daha iyi sonuçlar verir",product_of_before:"Bu bir",product_of_after:"ürünüdür",score_result:"Skor: {score}",sensitivity:"Hassasiyet ({sensitivity}%): ",volume_text:"Ses: {volume}",score_text:"Skor: {score}",level_text:"Seviye: {level}",score_texts:{zero:["Denedin mi ki?","Bu neydi şimdi?","Hadi ama benim köpeğim bile 1 yapar ve benim köpeğim bile yok!","Televizyonu aç ve bırak o oynasın","Başlat'a basmadın mı n'aptın?","İşte aradığım başlangıç","İlk deneme için harikaydı (tabi ilk denemense?)","Şaka değil dimi?"],low:["Olacak olacak DEWAMKE!","Yani... Pratik yapmak iyi gelebilir","Pratik yapmak geliştiriyor, denemeye devam!","İyi deneme, bir sonrakinde geçebilir misin?","Bundan iyisi dağda kayısı mıydı neydi o söz?","Ben bundan yüksek yapmıştım","Tavsiye lazım mı? Düşüyorken bağır!!","Oynarken gülme, gülersen ölürsün"],high:["Söyleyecek bir şeyim yok! İnanılmazdı","Harikaydı. Ben bile bu kadar iyi oynayamıyorum!"],master:["Sen ilah mısın? Tapalım mı sana?","Artık benim Zeus'umsun"]}},X={start_button:"Start",share_button:"Share",restart_button:"Restart",are_you_ready:"Ready to start?",tip:"Tip",tip_for_phone:"It is better to play landscape mode if you're on phone",product_of_before:"This is a product of",product_of_after:"",score_result:"Score: {score}",sensitivity:"Sensitivity ({sensitivity}%): ",volume_text:"Volume: {volume}",score_text:"Score: {score}",level_text:"Level: {level}",score_texts:{zero:["Did you even try?","What was that?","Come on! Even my dog can make it 1 (And I don't even have a dog!)","Turn the TV on and let it play","Did you hit start or what?","Perfect start","That was a good start for the first try, if it is the first try","No kidding?"],low:["Well.. I believe it takes practise","Practise makes it perfect, keep trying","Nice try buddy. Can you pass that?","You can do better than this","I did more than you did","Do you need advice? Scream when it is falling!","Don't laugh. It will make you crash"],high:["I don't have anything to say. That was incredible","Amazing. Are you really a human?"],master:["You are a God. You know that, don't you?"]}};let tt,et,nt,it,st,ot;function at(t,e){if(N.subscribe(t=>{tt=t}),"tr"==tt)var n=Q[t]||"";else n=X[t]||"";return"object"==typeof e&&Object.keys(e).forEach(t=>{n=n.replace("{"+t+"}",e[t])}),n}function rt(t,e){var n=setInterval(t,e);this.stop=function(){return n&&(clearInterval(n),n=null),this},this.start=function(){return n||(this.stop(),n=setInterval(t,e)),this},this.reset=function(t=e){return e=t,this.stop().start()}}class lt{constructor(t,e,n,i){Z.subscribe(t=>{this.radius=t}),U.subscribe(t=>{et=t}),K.subscribe(t=>{}),this.context=t,this.image=e,this.x=n,this.y=i,this.crashed=!1}update(t){this.y-=(t-12)/4,this.y+2*this.radius>et?this.y=et-2*this.radius:this.y<0&&(this.y=0),this.draw()}draw(){this.context.drawImage(this.image,this.x,this.y,2*this.radius,2*this.radius)}crash(){this.crashed||(this.crashed=!0,new Audio("game_over.wav").play())}edges(){return{left:this.x,right:this.x+2*this.radius,top:this.y,bottom:this.y+2*this.radius}}}class ct{constructor(t,e,n,i,s,o){this.context=t,this.x=e,this.y=n,this.font=o||"14px Georgia",this.text=i||"",this.color=s||"black",q.subscribe(t=>{}),U.subscribe(t=>{})}update(t){t&&(this.text=t),this.draw()}draw(){this.context.font=this.font,this.context.fillStyle=this.color,this.context.fillText(this.text,this.x,this.y)}}class ut{constructor(t,e,n,i,s){if(q.subscribe(t=>{nt=t}),U.subscribe(t=>{it=t}),Z.subscribe(t=>{st=t}),j.subscribe(t=>{}),J.subscribe(t=>{ot=t}),!s){let t=Math.floor(100*Math.random())+1;s=Math.max(10,it/2*t/100)}this.context=t,this.speed=.4*ot+1.2,console.log(ot),this.blockWidth=i||100,this.blockGap=Math.max(this.gap||0,this.calculateGap(ot)),this.blockHeight=s||50,this.blockHeight+this.blockGap>=it&&(this.blockHeight-=this.blockHeight/2),this.xPosition=nt+10,this.topSpace=this.blockHeight+this.blockGap,this.dead=!1,this.passed=!1,this.prevBlock=!1}update(t){let e=t.edges();!this.dead&&this.xPosition+this.blockWidth>0?(this.xPosition-=this.speed,this.draw(),!this.passed&&this.xPosition+this.blockWidth<e.right&&(this.passed=!0,j.update(t=>t+1)),e.right>=this.xPosition&&e.left<=this.xPosition+this.blockWidth&&(e.top<=this.blockHeight||e.bottom>=this.topSpace)&&t.crash()):this.dead=!0}draw(){this.context.fillStyle="darkgreen",this.context.fillRect(this.xPosition,0,this.blockWidth,this.blockHeight);let t=it-this.topSpace;this.context.fillRect(this.xPosition,this.topSpace,this.blockWidth,t)}calculateGap(t){return 1.25*st+(7*st-st/2.5*(ot-1))}}const{window:ht}=S;function dt(e){let n,i;return{c(){n=h("a"),n.textContent="Türkçe",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[37])},p:t,d(t){t&&u(n),i()}}}function pt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[36])},p:t,d(t){t&&u(n),i()}}}function ft(e){let n,i;return{c(){n=h("a"),n.textContent="Türkçe",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[41])},p:t,d(t){t&&u(n),i()}}}function gt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[40])},p:t,d(t){t&&u(n),i()}}}function mt(e){let n,i;return{c(){n=h("a"),n.textContent="Türkçe",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[45])},p:t,d(t){t&&u(n),i()}}}function yt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-1uizfpp")},m(t,s,o){c(t,n,s),o&&i(),i=f(n,"click",e[44])},p:t,d(t){t&&u(n),i()}}}function bt(e){let n,s,o,a,r,b,v,_,w,x,k,$,M,z,A,E,H,T,I,C,S,G,P,D,W,B,L,R,F,N,O,j,Y,q,U,V,K,Z,J,Q,X,tt,et,nt,it,st,ot,at,rt,lt,ct=e[9]("product_of_before")+"",ut=e[9]("product_of_after")+"",bt=e[9]("are_you_ready")+"",vt=e[9]("tip")+"",_t=e[9]("tip_for_phone")+"",wt=e[9]("start_button")+"",xt=e[9]("sensitivity",{sensitivity:e[8]})+"",kt=e[9]("score_result",{score:e[11]})+"",$t=e[9]("restart_button")+"",Mt=!!navigator.share;function zt(t,e){return"tr"==t[10]?pt:dt}let At=zt(e),Et=At(e);function Ht(t,e){return"tr"==t[10]?gt:ft}let Tt=Ht(e),It=Tt(e),Ct=Mt&&function(t){let e,n,i,s=t[9]("share_button")+"";return{c(){e=h("button"),n=d(s)},m(s,o,a){c(s,e,o),l(e,n),a&&i(),i=f(e,"click",t[43])},p(t,e){512&e[0]&&s!==(s=t[9]("share_button")+"")&&m(n,s)},d(t){t&&u(e),i()}}}(e);function St(t,e){return"tr"==t[10]?yt:mt}let Gt=St(e),Pt=Gt(e);return{c(){var t,i,l;n=p(),s=h("div"),o=h("h1"),o.textContent="FlappyDirt",a=p(),r=h("div"),b=d(ct),v=p(),_=h("a"),_.innerHTML='<span id="ma-text" class="svelte-1uizfpp">MA</span>Lab',w=p(),x=d(ut),k=p(),$=h("canvas"),M=p(),z=h("div"),A=h("div"),E=d(bt),H=p(),T=h("div"),I=h("strong"),C=d(vt),S=d(":"),G=p(),P=d(_t),D=p(),W=h("button"),B=d(wt),L=p(),R=h("div"),Et.c(),F=p(),N=h("div"),O=h("div"),j=d(xt),Y=p(),q=h("input"),U=p(),V=h("div"),It.c(),K=p(),Z=h("div"),J=h("div"),Q=d(e[7]),X=p(),tt=h("div"),et=d(kt),nt=p(),it=h("button"),st=d($t),ot=p(),Ct&&Ct.c(),at=p(),rt=h("div"),Pt.c(),document.title="FlappyDirt 💩 v0.907 - MALab [muratalabacak.com]",g(o,"id","title"),g(o,"class","svelte-1uizfpp"),g(_,"href","http://muratalabacak.com"),g(_,"target","_blank"),g(_,"id","link"),g(_,"class","svelte-1uizfpp"),g(r,"id","link-area"),g(r,"class","svelte-1uizfpp"),g($,"id","playground"),g($,"width",e[0]),g($,"height",e[1]),g($,"class","svelte-1uizfpp"),g(A,"class","emoji svelte-1uizfpp"),g(T,"class","message svelte-1uizfpp"),g(W,"id","start-button"),g(W,"class","svelte-1uizfpp"),g(R,"class","lang-changers svelte-1uizfpp"),g(z,"id","start-screen"),g(z,"class","svelte-1uizfpp"),g(O,"class","svelte-1uizfpp"),g(q,"min","1"),g(q,"max","100"),g(q,"type","range"),g(q,"class","slider svelte-1uizfpp"),g(V,"class","lang-changers-2 svelte-1uizfpp"),g(N,"id","sensitivity"),t="bottom",i="-50px",N.style.setProperty(t,i,l?"important":""),g(N,"class","svelte-1uizfpp"),g(J,"class","message svelte-1uizfpp"),g(tt,"class","score svelte-1uizfpp"),g(it,"id","restart-button"),g(it,"class","svelte-1uizfpp"),g(rt,"class","lang-changers svelte-1uizfpp"),g(Z,"id","crash-screen"),g(Z,"class","svelte-1uizfpp"),g(s,"id","canvas-area"),g(s,"class","svelte-1uizfpp")},m(t,u,h){c(t,n,u),c(t,s,u),l(s,o),l(s,a),l(s,r),l(r,b),l(r,v),l(r,_),l(r,w),l(r,x),l(s,k),l(s,$),e[34]($),l(s,M),l(s,z),l(z,A),l(A,E),l(z,H),l(z,T),l(T,I),l(I,C),l(I,S),l(T,G),l(T,P),l(z,D),l(z,W),l(W,B),e[35](W),l(z,L),l(z,R),Et.m(R,null),e[38](z),l(s,F),l(s,N),l(N,O),l(O,j),l(N,Y),l(N,q),y(q,e[8]),l(N,U),l(N,V),It.m(V,null),l(s,K),l(s,Z),l(Z,J),l(J,Q),l(Z,X),l(Z,tt),l(tt,et),l(Z,nt),l(Z,it),l(it,st),e[42](it),l(Z,ot),Ct&&Ct.m(Z,null),l(Z,at),l(Z,rt),Pt.m(rt,null),e[46](Z),h&&i(lt),lt=[f(ht,"resize",e[16]),f(ht,"load",e[15]),f(W,"click",e[13]),f(q,"input",e[17]),f(q,"change",e[39]),f(q,"input",e[39]),f(it,"click",e[14])]},p(t,e){512&e[0]&&ct!==(ct=t[9]("product_of_before")+"")&&m(b,ct),512&e[0]&&ut!==(ut=t[9]("product_of_after")+"")&&m(x,ut),1&e[0]&&g($,"width",t[0]),2&e[0]&&g($,"height",t[1]),512&e[0]&&bt!==(bt=t[9]("are_you_ready")+"")&&m(E,bt),512&e[0]&&vt!==(vt=t[9]("tip")+"")&&m(C,vt),512&e[0]&&_t!==(_t=t[9]("tip_for_phone")+"")&&m(P,_t),512&e[0]&&wt!==(wt=t[9]("start_button")+"")&&m(B,wt),At===(At=zt(t))&&Et?Et.p(t,e):(Et.d(1),Et=At(t),Et&&(Et.c(),Et.m(R,null))),768&e[0]&&xt!==(xt=t[9]("sensitivity",{sensitivity:t[8]})+"")&&m(j,xt),256&e[0]&&y(q,t[8]),Tt===(Tt=Ht(t))&&It?It.p(t,e):(It.d(1),It=Tt(t),It&&(It.c(),It.m(V,null))),128&e[0]&&m(Q,t[7]),2560&e[0]&&kt!==(kt=t[9]("score_result",{score:t[11]})+"")&&m(et,kt),512&e[0]&&$t!==($t=t[9]("restart_button")+"")&&m(st,$t),Mt&&Ct.p(t,e),Gt===(Gt=St(t))&&Pt?Pt.p(t,e):(Pt.d(1),Pt=Gt(t),Pt&&(Pt.c(),Pt.m(rt,null)))},i:t,o:t,d(t){t&&u(n),t&&u(s),e[34](null),e[35](null),Et.d(),e[38](null),It.d(),e[42](null),Ct&&Ct.d(),Pt.d(),e[46](null),i(lt)}}}function vt(t,e,n){let i,s,o,a,l,c,u,h,d,p,f,g,m,y,b,v,_,x,k;r(t,K,t=>n(23,i=t)),r(t,N,t=>n(10,s=t)),r(t,j,t=>n(11,o=t)),r(t,J,t=>n(24,a=t)),r(t,V,t=>n(25,l=t)),r(t,U,t=>n(26,c=t)),r(t,q,t=>n(27,u=t));let $="Come on! Try again",M=()=>{let t=p.getContext("2d");O.set(window.devicePixelRatio),q.set(h),U.set(d);let e=new ct(t,10,20,S("volume_text",{volume:0})),i=new ct(t,100,20,S("score_text",{score:o})),s=new ct(t,170,20,S("level_text",{level:a})),r=new Image;r.src="./dirtbg.png";let c=new Image;c.src="./dirt.png";let u=new lt(t,c,h/10,d/2);Y.set([]);let f=4e3-250*(a-1);setInterval(()=>{(!k||Date.now()-k>f)&&(Y.update(e=>{let n=new ut(t,a);return e.push(n),e}),k=Date.now())},100),x=new rt((async function(){O.set(window.devicePixelRatio),q.set(h/1),U.set(d/1);let c=(b?b.volume:0)*l,p=1+C/200,f=Math.min(25,c)*p,m=f.toFixed(1);t.clearRect(0,0,h,d),await I(t,r);let y=[];Y.subscribe(t=>{y=t}),y.forEach(t=>{t.update(u)}),u.update(f),e.update(S("volume_text",{volume:m})),i.update(S("score_text",{score:o})),s.update(S("level_text",{level:a})),n(7,$=T()),u.crashed&&(n(4,g.style.display="flex",g),x.stop())}),1e3/60)};function z(t){t="tr"==t?"tr":"en",N.set(t)}function A(){n(0,h=window.innerWidth/1.3),n(1,d=h/2.5)}function E(){try{navigator.mediaDevices.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}}).then(H,()=>{alert("We can't reach your microphone")})}catch(t){alert("getUserMedia threw exception 1 :"+t)}}function H(t){_=v.createMediaStreamSource(t),b=window.createAudioMeter(v),_.connect(b)}function T(){let t=S("score_texts");return o<=0?t.zero[Math.floor(Math.random()*t.zero.length)]:a<=3?t.low[Math.floor(Math.random()*t.low.length)]:a<=6?t.high[Math.floor(Math.random()*t.high.length)]:t.master[Math.floor(Math.random()*t.master.length)]}async function I(t,e){return new Promise(n=>{e.onload=function(){t.drawImage(e,0,0,e.width,c),n(!0)},0!=e.naturalWidth&&(t.drawImage(e,0,0,u,c+10),n(!0))})}let C,S;return t.$$.update=()=>{8388608&t.$$.dirty[0]&&n(8,C=i),1024&t.$$.dirty[0]&&n(9,S=(t,e,n,i,s,o,a)=>at(t,e))},[h,d,p,f,g,m,y,$,C,S,s,o,z,function(){M(),n(3,f.style.display="none",f),v.resume()},function(){n(4,g.style.display="none",g),j.set(0),M()},function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,v=new AudioContext,E(),A()},function(){A()},function(){n(8,C=Math.max(1,Math.min(100,C))),K.set(C)},b,v,_,x,k,i,a,l,c,u,M,A,E,H,T,I,function(t){w[t?"unshift":"push"](()=>{n(2,p=t)})},function(t){w[t?"unshift":"push"](()=>{n(5,m=t)})},()=>{z("en")},()=>{z("tr")},function(t){w[t?"unshift":"push"](()=>{n(3,f=t)})},function(){var t;t=this.value,C=""===t?void 0:+t,n(8,C),n(23,i)},()=>{z("en")},()=>{z("tr")},function(t){w[t?"unshift":"push"](()=>{n(6,y=t)})},()=>{((t,e)=>{navigator.share&&navigator.share({title:"FlappyDirt",text:`Hey, I did ${t} on FlappyDirt! Can you beat me?`,url:"https://alabacakmurat.github.io/flappydirt/"}).then(()=>console.log("Successful share")).catch(t=>console.log("Error sharing",t))})(o)},()=>{z("en")},()=>{z("tr")},function(t){w[t?"unshift":"push"](()=>{n(4,g=t)})}]}class _t extends B{constructor(t){super(),W(this,t,vt,bt,o,{},[-1,-1])}}function wt(t){let e;const n=new _t({props:{width:t[0],height:t[1]}});return{c(){var t;(t=n.$$.fragment)&&t.c()},m(t,i){G(n,t,i),e=!0},p(t,[e]){const i={};1&e&&(i.width=t[0]),2&e&&(i.height=t[1]),n.$set(i)},i(t){e||(C(n.$$.fragment,t),e=!0)},o(t){!function(t,e,n,i){if(t&&t.o){if(I.has(t))return;I.add(t),(void 0).c.push(()=>{I.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}(n.$$.fragment,t),e=!1},d(t){P(n,t)}}}function xt(t,e,n){let{GAME_WIDTH:i}=e,{GAME_HEIGHT:s}=e;return t.$set=t=>{"GAME_WIDTH"in t&&n(0,i=t.GAME_WIDTH),"GAME_HEIGHT"in t&&n(1,s=t.GAME_HEIGHT)},[i,s]}return window.createAudioMeter=function(t,e,n,i){var s=t.createScriptProcessor(512);return s.onaudioprocess=volumeAudioProcess,s.clipping=!1,s.lastClip=0,s.volume=0,s.clipLevel=e||.98,s.averaging=n||.95,s.clipLag=i||750,s.connect(t.destination),s.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},s.shutdown=function(){this.disconnect(),this.onaudioprocess=null},s},window.volumeAudioProcess=function(t){for(var e,n=t.inputBuffer.getChannelData(0),i=n.length,s=0,o=0;o<i;o++)e=n[o],Math.abs(e)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),s+=e*e;var a=Math.sqrt(s/i);this.volume=Math.max(a,this.volume*this.averaging)},new class extends B{constructor(t){super(),W(this,t,xt,wt,o,{GAME_WIDTH:0,GAME_HEIGHT:1})}}({target:document.body,props:{GAME_WIDTH:window.innerWidth/1.5,GAME_HEIGHT:window.innerHeight/1.5}})}();
//# sourceMappingURL=bundle.js.map
