var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function r(t,e,n){t.$$.on_destroy.push(o(e,n))}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){(null!=e||t.value)&&(t.value=e)}function v(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let b;function _(t){b=t}const w=[],x=[],k=[],$=[],M=Promise.resolve();let A=!1;function E(t){k.push(t)}let H=!1;const T=new Set;function C(){if(!H){H=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];_(e),I(e.$$)}for(w.length=0;x.length;)x.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];T.has(e)||(T.add(e),e())}k.length=0}while(w.length);for(;$.length;)$.pop()();A=!1,H=!1,T.clear()}}function I(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const S=new Set;function G(t,e){t&&t.i&&(S.delete(t),t.i(e))}const P="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function D(t,n,a){const{fragment:o,on_mount:r,on_destroy:l,after_update:c}=t.$$;o&&o.m(n,a),E(()=>{const n=r.map(e).filter(s);l?l.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(E)}function W(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(w.push(t),A||(A=!0,M.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,s,a,o,r,l,c=[-1]){const h=b;_(e);const d=s.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:c};let p=!1;if(f.ctx=a?a(e,d,(t,n,...i)=>{const s=i.length?i[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=s)&&(f.bound[t]&&f.bound[t](s),p&&z(e,t)),n}):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();s.intro&&G(e.$$.fragment),D(e,s.target,s.anchor),C()}_(h)}class L{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const R=[];function O(e,n=t){let i;const s=[];function o(t){if(a(e,t)&&(e=t,i)){const t=!R.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),R.push(n,e)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,r=t){const l=[a,r];return s.push(l),1===s.length&&(i=n(o)||t),a(e),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}function j(e,n,a){const r=!Array.isArray(e),l=r?[e]:e,c=n.length<2;return{subscribe:O(a,e=>{let a=!1;const u=[];let h=0,d=t;const f=()=>{if(h)return;d();const i=n(r?u[0]:u,e);c?e(i):d=s(i)?i:t},p=l.map((t,e)=>o(t,t=>{u[e]=t,h&=~(1<<e),a&&f()},()=>{h|=1<<e}));return a=!0,f(),function(){i(p),d()}}).subscribe}}const F=O("0.94b"),N=O("tr"),Y=O(window.devicePixelRatio),V=O(0),q=O({}),U=O(.7*window.innerWidth),K=O(.7*window.innerHeight),Z=O(1e3),J=O(1),Q=j(Y,t=>1/t*20),X=(j(Y,t=>1/t),j(V,t=>Math.ceil(Math.max(t,1)/5)));var tt={start_button:"Ba≈ülat",share_button:"Payla≈ü",restart_button:"Yeniden ba≈ülat",are_you_ready:"Ba≈ülamaya hazƒ±r mƒ±sƒ±n?",ready_to_warn:"Herkesi susturmayƒ± unutma!",tip:"ƒ∞pucu",tip_for_phone:"Telefonda oynarken yan √ßevirmek daha iyi sonu√ßlar verir",product_of_before:"Bu bir",product_of_after:"√ºr√ºn√ºd√ºr",score_result:"Skor: {score}",sensitivity:"Hassasiyet ({sensitivity}%): ",version_text:"S√ºr√ºm: {version}",volume_text:"Ses: {volume}",score_text:"Skor: {score}",level_text:"Seviye: {level}",score_texts:{zero:["Denedin mi ki?","Bu neydi ≈üimdi?","Hadi ama benim k√∂peƒüim bile 1 yapar ve benim k√∂peƒüim yok!","Televizyonu a√ß ve bƒ±rak o oynasƒ±n","Ba≈ülat'a basmadƒ±n mƒ± n'aptƒ±n?","ƒ∞≈üte aradƒ±ƒüƒ±m ba≈ülangƒ±√ß","ƒ∞lk deneme i√ßin harikaydƒ± (tabi ilk denemense?)","≈ûaka deƒüil dimi?","Hep o konu≈üan kimse onun y√ºz√ºnden sƒ±kma canƒ±nƒ±","Olur √∂yle bazen, bana da oluyor","Ye≈üillere √ßarpmayacaksƒ±n aralarƒ±ndan ge√ßeceksin"],low:["Olacak olacak DEWAMKE!","Yani... Pratik yapmak iyi gelebilir","Pratik yapmak geli≈ütiriyor, denemeye devam!","ƒ∞yi deneme, bir sonrakinde ge√ßebilir misin?","Bundan iyisi daƒüda kayƒ±sƒ± mƒ±ydƒ± neydi o s√∂z?","Ben bundan y√ºksek yapmƒ±≈ütƒ±m","Tavsiye lazƒ±m mƒ±? D√º≈ü√ºyorken baƒüƒ±r!!","Oynarken g√ºlme, g√ºlersen √∂l√ºrs√ºn"],high:["S√∂yleyecek bir ≈üeyim yok! ƒ∞nanƒ±lmazdƒ±","Harikaydƒ±. Ben bile bu kadar iyi oynayamƒ±yorum!"],master:["Sen ilah mƒ±sƒ±n? Tapalƒ±m mƒ± sana?","Artƒ±k benim Zeus'umsun"]}},et={start_button:"Start",share_button:"Share",restart_button:"Restart",are_you_ready:"Ready to start?",ready_to_warn:"Make sure everybody shut up!",tip:"Tip",tip_for_phone:"It is better to play in landscape if you're on phone",product_of_before:"This is a product of",product_of_after:"",score_result:"Score: {score}",sensitivity:"Sensitivity ({sensitivity}%): ",version_text:"Version: {version}",volume_text:"Volume: {volume}",score_text:"Score: {score}",level_text:"Level: {level}",score_texts:{zero:["Did you even try?","What was that?","Come on! Even my dog can make it 1 (And I don't even have a dog!)","Turn the TV on and let it play","Did you hit start or what?","Perfect start","That was a good start for the first try, if it is the first try","No kidding?"],low:["Well.. I believe it takes practise","Practise makes it perfect, keep trying","Nice try buddy. Can you pass that?","You can do better than this","I did more than you did","Do you need advice? Scream when it is falling!","Don't laugh. It will make you crash"],high:["I don't have anything to say. That was incredible","Amazing. Are you really a human?"],master:["You are a God. You know that, don't you?"]}};let nt,it,st,at,ot,rt;function lt(t,e){if(N.subscribe(t=>{nt=t}),"tr"==nt)var n=tt[t]||"";else n=et[t]||"";return"object"==typeof e&&Object.keys(e).forEach(t=>{n=n.replace("{"+t+"}",e[t])}),n}function ct(t,e){var n=setInterval(t,e);this.stop=function(){return n&&(clearInterval(n),n=null),this},this.start=function(){return n||(this.stop(),n=setInterval(t,e)),this},this.reset=function(t=e){return e=t,this.stop().start()}}class ut{constructor(t,e,n,i){Q.subscribe(t=>{this.radius=t}),K.subscribe(t=>{it=t}),J.subscribe(t=>{}),this.context=t,this.image=e,this.x=n,this.y=i,this.crashed=!1}update(t){this.y-=(t-12)/4,this.y+2*this.radius>it?this.y=it-2*this.radius:this.y<0&&(this.y=0),this.draw()}draw(){this.context.drawImage(this.image,this.x,this.y,2*this.radius,2*this.radius)}crash(){this.crashed||(this.crashed=!0)}edges(){return{left:this.x,right:this.x+2*this.radius,top:this.y,bottom:this.y+2*this.radius}}}class ht{constructor(t,e,n,i,s,a){this.context=t,this.x=e,this.y=n,this.font=a||"14px Georgia",this.text=i||"",this.color=s||"black",U.subscribe(t=>{}),K.subscribe(t=>{})}update(t){t&&(this.text=t),this.draw()}draw(){this.context.font=this.font,this.context.fillStyle=this.color,this.context.fillText(this.text,this.x,this.y)}}class dt{constructor(t,e,n,i,s){if(U.subscribe(t=>{st=t}),K.subscribe(t=>{at=t}),Q.subscribe(t=>{ot=t}),V.subscribe(t=>{}),X.subscribe(t=>{rt=t}),!s){let t=Math.floor(100*Math.random())+1;s=Math.max(10,at/2*t/100)}this.context=t,this.speed=.4*rt+1.2,console.log(rt),this.blockWidth=i||100,this.blockGap=Math.max(this.gap||0,this.calculateGap(rt)),this.blockHeight=s||50,this.blockHeight+this.blockGap>=at&&(this.blockHeight-=this.blockHeight/2),this.xPosition=st+10,this.topSpace=this.blockHeight+this.blockGap;this.randomColor=["darkgreen","darkblue","darkred","brown","black"][rt-1]||"black",this.dead=!1,this.passed=!1,this.prevBlock=!1}update(t){let e=t.edges();!this.dead&&this.xPosition+this.blockWidth>0?(this.xPosition-=this.speed,this.draw(),!this.passed&&this.xPosition+this.blockWidth<e.right&&(this.passed=!0,V.update(t=>t+1)),e.right>=this.xPosition&&e.left<=this.xPosition+this.blockWidth&&(e.top<=this.blockHeight||e.bottom>=this.topSpace)&&t.crash()):this.dead=!0}draw(){this.context.fillStyle=this.randomColor,this.context.fillRect(this.xPosition,0,this.blockWidth,this.blockHeight);let t=at-this.topSpace;this.context.fillRect(this.xPosition,this.topSpace,this.blockWidth,t)}calculateGap(t){return 1.25*ot+(7*ot-ot/2.5*(rt-1))}}const{window:ft}=P;function pt(e){let n,i;return{c(){n=h("a"),n.textContent="T√ºrk√ße",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[36])},p:t,d(t){t&&u(n),i()}}}function gt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[35])},p:t,d(t){t&&u(n),i()}}}function mt(e){let n,i;return{c(){n=h("a"),n.textContent="T√ºrk√ße",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[40])},p:t,d(t){t&&u(n),i()}}}function yt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[39])},p:t,d(t){t&&u(n),i()}}}function vt(e){let n,i;return{c(){n=h("a"),n.textContent="T√ºrk√ße",g(n,"href","#lang:tr"),g(n,"class","lang-changer lang-changer-tr svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[46])},p:t,d(t){t&&u(n),i()}}}function bt(e){let n,i;return{c(){n=h("a"),n.textContent="English",g(n,"href","#lang:en"),g(n,"class","lang-changer lang-changer-en svelte-9lc43u")},m(t,s,a){c(t,n,s),a&&i(),i=p(n,"click",e[45])},p:t,d(t){t&&u(n),i()}}}function _t(e){let n,s,a,o,r,b,_,w,x,k,$,M,A,E,H,T,C,I,S,G,P,D,W,z,B,L,R,O,j,F,N,Y,V,q,U,K,Z,J,Q,X,tt,et,nt,it,st,at,ot,rt,lt,ct,ut,ht,dt,_t,wt,xt,kt=e[9]("product_of_before")+"",$t=e[9]("product_of_after")+"",Mt=e[9]("are_you_ready")+"",At=e[9]("ready_to_warn")+"",Et=e[9]("tip")+"",Ht=e[9]("tip_for_phone")+"",Tt=e[9]("start_button")+"",Ct=e[9]("sensitivity",{sensitivity:e[8]})+"",It=e[9]("score_result",{score:e[11]})+"",St=e[9]("restart_button")+"",Gt=!!navigator.share;function Pt(t,e){return"tr"==t[10]?gt:pt}let Dt=Pt(e),Wt=Dt(e);function zt(t,e){return"tr"==t[10]?yt:mt}let Bt=zt(e),Lt=Bt(e),Rt=Gt&&function(t){let e,n,i,s=t[9]("share_button")+"";return{c(){e=h("button"),n=d(s)},m(s,a,o){c(s,e,a),l(e,n),o&&i(),i=p(e,"click",t[44])},p(t,e){512&e[0]&&s!==(s=t[9]("share_button")+"")&&m(n,s)},d(t){t&&u(e),i()}}}(e);function Ot(t,e){return"tr"==t[10]?bt:vt}let jt=Ot(e),Ft=jt(e);return{c(){n=f(),s=h("div"),a=h("div"),o=h("div"),r=h("h1"),r.textContent="FlappyDirt",b=f(),_=h("div"),w=d(kt),x=f(),k=h("a"),k.innerHTML='<span id="ma-text" class="svelte-9lc43u">MA</span>Lab',$=f(),M=d($t),A=f(),E=h("div"),H=h("div"),Wt.c(),T=f(),C=h("canvas"),I=f(),S=h("div"),G=h("div"),P=d(Mt),D=f(),W=h("div"),z=d(At),B=f(),L=h("div"),R=h("strong"),O=d(Et),j=d(":"),F=f(),N=d(Ht),Y=f(),V=h("button"),q=d(Tt),U=f(),K=h("div"),Lt.c(),Z=f(),J=h("div"),Q=h("div"),X=d(Ct),tt=f(),et=h("input"),nt=f(),it=h("div"),st=h("div"),at=d(e[7]),ot=f(),rt=h("div"),lt=d(It),ct=f(),ut=h("button"),ht=d(St),dt=f(),Rt&&Rt.c(),_t=f(),wt=h("div"),Ft.c(),document.title="FlappyDirt üí© v0.907 - MALab [muratalabacak.com]",g(r,"id","title"),g(r,"class","svelte-9lc43u"),g(k,"href","http://muratalabacak.com"),g(k,"target","_blank"),g(k,"id","link"),g(k,"class","svelte-9lc43u"),g(_,"id","link-area"),g(_,"class","svelte-9lc43u"),g(o,"id","main-header"),g(o,"class","svelte-9lc43u"),g(H,"class","lang-changers-2 svelte-9lc43u"),g(E,"id","right-header"),g(E,"class","svelte-9lc43u"),g(a,"id","header"),v(a,"width",e[12]+"px"),g(a,"class","svelte-9lc43u"),g(C,"id","playground"),g(C,"width",e[0]),g(C,"height",e[1]),g(C,"class","svelte-9lc43u"),g(G,"class","emoji svelte-9lc43u"),g(W,"class","emoji-2 svelte-9lc43u"),g(L,"class","message svelte-9lc43u"),g(V,"id","start-button"),g(V,"class","svelte-9lc43u"),g(K,"class","lang-changers svelte-9lc43u"),g(S,"id","start-screen"),g(S,"class","svelte-9lc43u"),g(Q,"class","svelte-9lc43u"),g(et,"min","-100"),g(et,"max","100"),g(et,"type","range"),g(et,"class","slider svelte-9lc43u"),g(J,"id","sensitivity"),v(J,"bottom","-50px"),g(J,"class","svelte-9lc43u"),g(st,"class","message svelte-9lc43u"),g(rt,"class","score svelte-9lc43u"),g(ut,"id","restart-button"),g(ut,"class","svelte-9lc43u"),g(wt,"class","lang-changers svelte-9lc43u"),g(it,"id","crash-screen"),g(it,"class","svelte-9lc43u"),g(s,"id","canvas-area"),g(s,"class","svelte-9lc43u")},m(t,u,h){c(t,n,u),c(t,s,u),l(s,a),l(a,o),l(o,r),l(o,b),l(o,_),l(_,w),l(_,x),l(_,k),l(_,$),l(_,M),l(a,A),l(a,E),l(E,H),Wt.m(H,null),l(s,T),l(s,C),e[37](C),l(s,I),l(s,S),l(S,G),l(G,P),l(S,D),l(S,W),l(W,z),l(S,B),l(S,L),l(L,R),l(R,O),l(R,j),l(L,F),l(L,N),l(S,Y),l(S,V),l(V,q),e[38](V),l(S,U),l(S,K),Lt.m(K,null),e[41](S),l(s,Z),l(s,J),l(J,Q),l(Q,X),l(J,tt),l(J,et),y(et,e[8]),l(s,nt),l(s,it),l(it,st),l(st,at),l(it,ot),l(it,rt),l(rt,lt),l(it,ct),l(it,ut),l(ut,ht),e[43](ut),l(it,dt),Rt&&Rt.m(it,null),l(it,_t),l(it,wt),Ft.m(wt,null),e[47](it),h&&i(xt),xt=[p(ft,"resize",e[17]),p(ft,"load",e[16]),p(V,"click",e[14]),p(et,"input",e[18]),p(et,"change",e[42]),p(et,"input",e[42]),p(ut,"click",e[15])]},p(t,e){512&e[0]&&kt!==(kt=t[9]("product_of_before")+"")&&m(w,kt),512&e[0]&&$t!==($t=t[9]("product_of_after")+"")&&m(M,$t),Dt===(Dt=Pt(t))&&Wt?Wt.p(t,e):(Wt.d(1),Wt=Dt(t),Wt&&(Wt.c(),Wt.m(H,null))),4096&e[0]&&v(a,"width",t[12]+"px"),1&e[0]&&g(C,"width",t[0]),2&e[0]&&g(C,"height",t[1]),512&e[0]&&Mt!==(Mt=t[9]("are_you_ready")+"")&&m(P,Mt),512&e[0]&&At!==(At=t[9]("ready_to_warn")+"")&&m(z,At),512&e[0]&&Et!==(Et=t[9]("tip")+"")&&m(O,Et),512&e[0]&&Ht!==(Ht=t[9]("tip_for_phone")+"")&&m(N,Ht),512&e[0]&&Tt!==(Tt=t[9]("start_button")+"")&&m(q,Tt),Bt===(Bt=zt(t))&&Lt?Lt.p(t,e):(Lt.d(1),Lt=Bt(t),Lt&&(Lt.c(),Lt.m(K,null))),768&e[0]&&Ct!==(Ct=t[9]("sensitivity",{sensitivity:t[8]})+"")&&m(X,Ct),256&e[0]&&y(et,t[8]),128&e[0]&&m(at,t[7]),2560&e[0]&&It!==(It=t[9]("score_result",{score:t[11]})+"")&&m(lt,It),512&e[0]&&St!==(St=t[9]("restart_button")+"")&&m(ht,St),Gt&&Rt.p(t,e),jt===(jt=Ot(t))&&Ft?Ft.p(t,e):(Ft.d(1),Ft=jt(t),Ft&&(Ft.c(),Ft.m(wt,null)))},i:t,o:t,d(t){t&&u(n),t&&u(s),Wt.d(),e[37](null),e[38](null),Lt.d(),e[41](null),e[43](null),Rt&&Rt.d(),Ft.d(),e[47](null),i(xt)}}}function wt(t,e,n){let i,s,a,o,l,c,u,h,d,f,p,g,m,y,v,b,_,w,k,$;r(t,J,t=>n(24,i=t)),r(t,N,t=>n(10,s=t)),r(t,F,t=>n(25,a=t)),r(t,V,t=>n(11,o=t)),r(t,X,t=>n(26,l=t)),r(t,Z,t=>n(27,c=t)),r(t,K,t=>n(28,u=t)),r(t,U,t=>n(12,h=t));let M="Come on! Try again",A=()=>{let t=p.getContext("2d");Y.set(window.devicePixelRatio),U.set(d),K.set(f);let e=new ht(t,10,f-15,P("version_text",{version:a})),i=new ht(t,10,20,P("volume_text",{volume:0})),s=new ht(t,100,20,P("score_text",{score:o})),r=new ht(t,170,20,P("level_text",{level:l})),u=new Image;u.src="./dirtbg.png";let h=new Image;h.src="./dirt.png";let g=new ut(t,h,d/10,f/2);q.set([]);let y=4e3-250*(l-1);setInterval(()=>{(!$||Date.now()-$>y)&&(q.update(e=>{let n=new dt(t,l);return e.push(n),e}),$=Date.now())},100),k=new ct((async function(){Y.set(window.devicePixelRatio),U.set(d/1),K.set(f/1);let h=(b?b.volume:0)*c,p=1+G/250,y=Math.min(25,h)*p,v=y.toFixed(1);t.clearRect(0,0,d,f),await S(t,u);let _=[];q.subscribe(t=>{_=t}),_.forEach(t=>{t.update(g)}),g.update(y),i.update(P("volume_text",{volume:v})),s.update(P("score_text",{score:o})),r.update(P("level_text",{level:l})),e.update(P("version_text",{version:a})),n(7,M=I()),g.crashed&&(new Audio("game_over.wav").play(),n(4,m.style.display="flex",m),k.stop())}),1e3/60)};function E(t){t="tr"==t?"tr":"en",N.set(t)}function H(){n(0,d=window.innerWidth/1.3),n(1,f=d/2.5)}function T(){try{navigator.mediaDevices.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}}).then(C,()=>{alert("We can't reach your microphone")})}catch(t){alert("getUserMedia threw exception 1 :"+t)}}function C(t){w=_.createMediaStreamSource(t),b=window.createAudioMeter(_),w.connect(b)}function I(){let t=P("score_texts");return o<=0?t.zero[Math.floor(Math.random()*t.zero.length)]:l<=3?t.low[Math.floor(Math.random()*t.low.length)]:l<=6?t.high[Math.floor(Math.random()*t.high.length)]:t.master[Math.floor(Math.random()*t.master.length)]}async function S(t,e){return new Promise(n=>{e.onload=function(){t.drawImage(e,0,0,e.width,u),n(!0)},0!=e.naturalWidth&&(t.drawImage(e,0,0,h,u+10),n(!0))})}let G,P;return t.$$.update=()=>{16777216&t.$$.dirty[0]&&n(8,G=i),1024&t.$$.dirty[0]&&n(9,P=(t,e,n,i,s,a,o)=>lt(t,e))},[d,f,p,g,m,y,v,M,G,P,s,o,h,E,function(){A(),n(3,g.style.display="none",g),_.resume()},function(){n(4,m.style.display="none",m),V.set(0),A()},function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,_=new AudioContext,T(),H()},function(){H()},function(){n(8,G=Math.max(-100,Math.min(100,G))),J.set(G)},b,_,w,k,$,i,a,l,c,u,A,H,T,C,I,S,()=>{E("en")},()=>{E("tr")},function(t){x[t?"unshift":"push"](()=>{n(2,p=t)})},function(t){x[t?"unshift":"push"](()=>{n(5,y=t)})},()=>{E("en")},()=>{E("tr")},function(t){x[t?"unshift":"push"](()=>{n(3,g=t)})},function(){var t;t=this.value,G=""===t?void 0:+t,n(8,G),n(24,i)},function(t){x[t?"unshift":"push"](()=>{n(6,v=t)})},()=>{((t,e)=>{navigator.share&&navigator.share({title:"FlappyDirt",text:`Hey, I did ${t} on FlappyDirt! Can you beat me?`,url:"https://alabacakmurat.github.io/flappydirt/"}).then(()=>console.log("Successful share")).catch(t=>console.log("Error sharing",t))})(o)},()=>{E("en")},()=>{E("tr")},function(t){x[t?"unshift":"push"](()=>{n(4,m=t)})}]}class xt extends L{constructor(t){super(),B(this,t,wt,_t,a,{},[-1,-1])}}function kt(t){let e;const n=new xt({props:{width:t[0],height:t[1]}});return{c(){var t;(t=n.$$.fragment)&&t.c()},m(t,i){D(n,t,i),e=!0},p(t,[e]){const i={};1&e&&(i.width=t[0]),2&e&&(i.height=t[1]),n.$set(i)},i(t){e||(G(n.$$.fragment,t),e=!0)},o(t){!function(t,e,n,i){if(t&&t.o){if(S.has(t))return;S.add(t),(void 0).c.push(()=>{S.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}(n.$$.fragment,t),e=!1},d(t){W(n,t)}}}function $t(t,e,n){let{GAME_WIDTH:i}=e,{GAME_HEIGHT:s}=e;return t.$set=t=>{"GAME_WIDTH"in t&&n(0,i=t.GAME_WIDTH),"GAME_HEIGHT"in t&&n(1,s=t.GAME_HEIGHT)},[i,s]}return window.createAudioMeter=function(t,e,n,i){var s=t.createScriptProcessor(512);return s.onaudioprocess=volumeAudioProcess,s.clipping=!1,s.lastClip=0,s.volume=0,s.clipLevel=e||.98,s.averaging=n||.95,s.clipLag=i||750,s.connect(t.destination),s.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},s.shutdown=function(){this.disconnect(),this.onaudioprocess=null},s},window.volumeAudioProcess=function(t){for(var e,n=t.inputBuffer.getChannelData(0),i=n.length,s=0,a=0;a<i;a++)e=n[a],Math.abs(e)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),s+=e*e;var o=Math.sqrt(s/i);this.volume=Math.max(o,this.volume*this.averaging)},new class extends L{constructor(t){super(),B(this,t,$t,kt,a,{GAME_WIDTH:0,GAME_HEIGHT:1})}}({target:document.body,props:{GAME_WIDTH:window.innerWidth/1.5,GAME_HEIGHT:window.innerHeight/1.5}})}();
//# sourceMappingURL=bundle.js.map
